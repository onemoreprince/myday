/* ==========================================
   MAIN.CSS - Core Styles & Components
   ========================================== */

/* === CSS RESET & BASE === */
* { 
    box-sizing: border-box; 
    margin: 0; 
    padding: 0; 
    -webkit-tap-highlight-color: transparent; 
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--bg-cream);
    color: var(--text-dark);
    padding: 12px;
    padding-bottom: 12px;
    max-width: 600px;
    margin: 0 auto;
    min-height: 100vh;
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* === CSS VARIABLES === */
:root {
    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.25s ease;
    --transition-slow: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Radius */
    --radius: 16px;
    --radius-sm: 10px;
    --radius-lg: 20px;
}

/* === UTILITY CLASSES === */
.clickable { cursor: pointer; }
.flex-1 { flex: 1; }

/* === HEADER & DATE NAVIGATION === */
.date-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px; /* Increased margin */
}

.date-display { 
    text-align: center;
    cursor: pointer;
    transition: transform var(--transition-fast);
    display: flex;
    flex-direction: column;
    align-items: center;
}

.date-display h1 { 
    font-size: 28px; /* Increased from 20px */
    font-weight: 800; 
    color: var(--text-dark);
    line-height: 1.2;
    display: flex;
    align-items: center;
    gap: 8px;
}

.date-display p { 
    font-size: 14px; /* Increased from 12px */
    font-weight: 500;
    color: var(--text-light);
    margin-top: 2px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.nav-btn {
    background: var(--bg-card);
    border: none;
    width: 38px; 
    height: 38px;
    border-radius: var(--radius-sm);
    box-shadow: var(--card-shadow);
    color: var(--text-dark);
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    display: flex;
align-items: center;
justify-content: center;
font-size: 12px;
}
.nav-btn:hover {
box-shadow: var(--card-shadow-hover);
}
.nav-btn:active {
transform: scale(0.92);
}
.nav-btn:focus-visible {
outline: 2px solid var(--accent-primary);
outline-offset: 2px;
}
/* === SCORE CARD === */
/* === SCORE CARD === */
.score-card {
    background: var(--bg-card);
    border-radius: var(--radius);
    padding: 16px;
    box-shadow: var(--card-shadow);
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 12px;
    position: relative;
    overflow: visible;
    transition: background-color var(--transition-normal), box-shadow var(--transition-normal);
}

/* === CORNER BUTTONS === */
.corner-btn {
    position: absolute;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: var(--input-bg);
    color: var(--text-medium);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
    z-index: 10;
}

.corner-btn:hover {
    background: var(--input-hover-bg);
    color: var(--text-dark);
    transform: scale(1.1);
}

.corner-btn:active {
    transform: scale(0.95);
}

.corner-btn:focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
}

.corner-btn.top-left {
    top: 8px;
    left: 8px;
}

.corner-btn.top-right {
    top: 8px;
    right: 8px;
}

.corner-btn.bottom-left {
    bottom: 8px;
    left: 8px;
}

.corner-btn.bottom-right {
    bottom: 8px;
    right: 8px;
}

/* Hover colors for specific buttons */
.corner-btn.top-left:hover {
    background: var(--p-yellow);
    color: var(--p-yellow-dark);
}

.corner-btn.top-right:hover {
    background: var(--p-blue);
    color: var(--p-blue-dark);
}

.corner-btn.bottom-left:hover {
    background: var(--p-lavender);
    color: var(--p-lavender-dark);
}

.corner-btn.bottom-right:hover {
    background: var(--p-mint);
    color: var(--p-mint-dark);
}

.score-ring-container {
width: 90px;
height: 90px;
position: relative;
}
.score-ring {
transform: rotate(-90deg);
width: 100%;
height: 100%;
}
.ring-bg {
fill: none;
stroke: var(--border-light);
stroke-width: 8;
}
.ring-fill {
fill: none;
stroke: url(#ringGradient);
stroke-width: 8;
stroke-dasharray: 100;
stroke-dashoffset: 100;
transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
stroke-linecap: round;
}
.score-text {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
text-align: center;
}
#dailyScore {
font-size: 26px;
font-weight: 800;
color: var(--text-dark);
display: block;
line-height: 1;
transition: transform var(--transition-fast);
}
#dailyScore.bump {
animation: scoreBump 0.3s ease;
}
@keyframes scoreBump {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.15); }
}
.score-label {
font-size: 9px;
text-transform: uppercase;
color: var(--text-light);
letter-spacing: 0.5px;
margin-top: 2px;
display: block;
}
.score-message {
margin-top: 10px;
font-size: 12px;
background: var(--p-peach);
padding: 5px 12px;
border-radius: 16px;
color: var(--score-message-text);
font-weight: 600;
transition: background-color var(--transition-normal), transform var(--transition-fast);
}
.score-message.clickable:hover {
transform: scale(1.05);
}
.score-message.clickable:active {
transform: scale(0.98);
}
.score-subtext {
font-size: 11px;
color: var(--text-light);
margin-top: 4px;
}
/* === HABITS LIST === */
.habit-container {
display: flex;
flex-direction: column;
gap: 10px;
}
.habit-card {
background: var(--bg-card);
border-radius: var(--radius);
padding: 12px;
box-shadow: var(--card-shadow);
transition: transform var(--transition-fast), box-shadow var(--transition-fast), background-color var(--transition-normal);
border-left: 4px solid transparent;
position: relative;
overflow: hidden;
}
.habit-card:hover {
transform: translateY(-1px);
box-shadow: var(--card-shadow-hover);
}
/* Accent Colors for habit cards */
.habit-card[data-accent="mint"] { border-left-color: var(--p-mint-dark); }
.habit-card[data-accent="pink"] { border-left-color: var(--p-pink); }
.habit-card[data-accent="lavender"] { border-left-color: var(--p-lavender); }
.habit-card[data-accent="peach"] { border-left-color: var(--p-peach); }
.habit-card[data-accent="blue"] { border-left-color: var(--p-blue); }
.habit-card[data-accent="yellow"] { border-left-color: var(--p-yellow-dark); }
.habit-card[data-type="text"] {
padding-bottom: 10px;
}
.habit-header {
display: flex;
justify-content: space-between;
align-items: flex-start;
margin-bottom: 8px;
gap: 8px;
}
.habit-title-section {
flex: 1;
}
.habit-title {
font-weight: 700;
font-size: 14px;
display: flex;
gap: 6px;
align-items: center;
color: var(--text-dark);
}
.habit-completion {
display: inline-flex;
align-items: center;
gap: 3px;
font-size: 10px;
color: var(--accent-primary);
margin-top: 2px;
font-weight: 600;
}
.habit-completion svg {
width: 10px;
height: 10px;
}
.habit-meta {
display: flex;
flex-direction: column;
align-items: flex-end;
gap: 2px;
}
.habit-score-badge {
font-size: 10px;
background: var(--border-light);
padding: 3px 8px;
border-radius: 8px;
color: var(--text-light);
font-weight: 600;
transition: background-color var(--transition-normal);
}
.habit-score-badge.earned {
background: var(--badge-earned-bg);
color: var(--badge-earned-text);
}
/* === CHECKBOX INPUT === */
.checkbox-wrapper {
display: flex;
align-items: center;
gap: 10px;
cursor: pointer;
background: var(--input-bg);
padding: 10px 12px;
border-radius: var(--radius-sm);
transition: background-color var(--transition-fast), transform var(--transition-fast);
user-select: none;
}
.checkbox-wrapper:hover {
background: var(--input-hover-bg);
}
.checkbox-wrapper:active {
transform: scale(0.98);
}
.checkbox-wrapper:focus-visible {
outline: 2px solid var(--accent-primary);
outline-offset: 2px;
}
.custom-check {
width: 22px;
height: 22px;
border: 2px solid var(--checkbox-border);
border-radius: 6px;
display: flex;
align-items: center;
justify-content: center;
transition: all var(--transition-fast);
flex-shrink: 0;
}
.custom-check svg {
opacity: 0;
transform: scale(0.5);
transition: all var(--transition-fast);
}
.checkbox-wrapper.checked {
background: var(--p-pink);
}
.checkbox-wrapper.checked .custom-check {
background: #fff;
border-color: #fff;
}
.checkbox-wrapper.checked .custom-check svg {
opacity: 1;
transform: scale(1);
color: var(--p-pink-dark);
}
.checkbox-wrapper.checked .check-text {
text-decoration: line-through;
color: rgba(255,255,255,0.8);
}
.check-text {
font-weight: 500;
font-size: 13px;
color: var(--text-medium);
transition: color var(--transition-fast);
}
.checkbox-wrapper.pop {
animation: checkPop 0.4s ease;
}
@keyframes checkPop {
0%, 100% { transform: scale(1); }
30% { transform: scale(1.05); }
60% { transform: scale(0.98); }
}
/* === COUNTER INPUT === */
.counter-wrapper {
display: flex;
align-items: center;
gap: 12px;
padding: 8px 0;
}
.counter-btn {
width: 40px;
height: 40px;
border: none;
border-radius: 50%;
background: var(--input-bg);
color: var(--text-dark);
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all var(--transition-fast);
}
.counter-btn:hover:not(:disabled) {
background: var(--p-mint);
transform: scale(1.1);
}
.counter-btn:active:not(:disabled) {
transform: scale(0.95);
}
.counter-btn:disabled {
opacity: 0.4;
cursor: not-allowed;
}
.counter-btn.minus {
background: var(--input-bg);
color: var(--text-dark);
}
.counter-btn.plus {
background: var(--counter-plus-bg);
color: var(--counter-plus-text);
}
.counter-btn.plus:hover {
background: var(--counter-plus-hover-bg);
color: #fff;
}
.counter-display {
flex: 1;
text-align: center;
position: relative;
}
.counter-value {
font-size: 28px;
font-weight: 800;
color: var(--text-dark);
line-height: 1;
}
.counter-target {
font-size: 14px;
color: var(--text-light);
font-weight: 500;
}
.counter-progress-bg {
height: 4px;
background: var(--border-light);
border-radius: 2px;
margin-top: 8px;
overflow: hidden;
}
.counter-progress-fill {
height: 100%;
background: var(--progress-fill-gradient);
border-radius: 2px;
transition: width var(--transition-normal);
}
/* === TIMER INPUT === */
.timer-wrapper {
padding: 8px 0;
}
.timer-display {
text-align: center;
margin-bottom: 8px;
}
.timer-value {
font-size: 32px;
font-weight: 800;
color: var(--text-dark);
font-variant-numeric: tabular-nums;
}
.timer-target {
font-size: 14px;
color: var(--text-light);
font-weight: 500;
margin-left: 4px;
}
.timer-progress-bg {
height: 6px;
background: var(--border-light);
border-radius: 3px;
margin-bottom: 12px;
overflow: hidden;
}
.timer-progress-fill {
height: 100%;
background: var(--timer-progress-gradient);
border-radius: 3px;
transition: width 0.5s linear;
}
.timer-controls {
display: flex;
justify-content: center;
gap: 10px;
align-items: center;
}
.timer-btn {
width: 44px;
height: 44px;
border: none;
border-radius: 50%;
background: var(--input-bg);
color: var(--text-dark);
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all var(--transition-fast);
font-weight: 600;
font-size: 11px;
}
.timer-btn:hover {
transform: scale(1.1);
}
.timer-btn:active {
transform: scale(0.95);
}
.timer-btn.play {
background: var(--timer-play-bg);
color: var(--timer-play-text);
width: 52px;
height: 52px;
}
.timer-btn.play:hover {
background: var(--timer-play-hover-bg);
color: #fff;
}
.timer-btn.pause {
background: var(--timer-pause-bg);
color: var(--timer-pause-text);
width: 52px;
height: 52px;
}
.timer-btn.pause:hover {
background: var(--timer-pause-hover-bg);
color: #fff;
}
.timer-btn.reset:hover {
background: var(--p-pink);
color: #fff;
}
.timer-btn.add-time:hover {
background: var(--p-blue);
color: #fff;
}
.timer-btn.fullscreen {
background: var(--input-bg);
color: var(--text-medium);
}
.timer-btn.fullscreen:hover {
background: var(--p-lavender);
color: #fff;
}
/* === STAR RATING === */
.star-rating {
display: flex;
gap: 2px;
padding: 4px 0;
}
.star-rating span {
font-size: 24px;
color: var(--border-light);
cursor: pointer;
transition: transform var(--transition-fast), color var(--transition-fast);
padding: 2px;
line-height: 1;
}
.star-rating span:hover {
transform: scale(1.15);
}
.star-rating span.active {
color: #FFC107;
}
.star-rating span.active:nth-child(n) {
animation: starPop 0.3s ease backwards;
}
@keyframes starPop {
0% { transform: scale(0.5); opacity: 0; }
70% { transform: scale(1.2); }
100% { transform: scale(1); opacity: 1; }
}
/* === JOURNAL INPUT === */
.journal-wrapper {
position: relative;
}
.journal-input {
width: 100%;
border: 2px solid var(--border-light);
border-radius: var(--radius-sm);
padding: 10px;
font-family: inherit;
font-size: 13px;
resize: none;
min-height: 60px;
background: var(--bg-card);
color: var(--text-dark);
transition: border-color var(--transition-fast), min-height var(--transition-normal);
line-height: 1.4;
}
.journal-input:focus {
outline: none;
border-color: var(--p-lavender-dark);
min-height: 90px;
}
.journal-input::placeholder {
color: var(--text-light);
}
.journal-char-count {
position: absolute;
bottom: 6px;
right: 10px;
font-size: 9px;
color: var(--text-light);
}
/* === EMPTY STATE === */
.empty-state {
text-align: center;
padding: 30px 16px;
}
.empty-icon {
font-size: 40px;
margin-bottom: 12px;
}
.empty-state h3 {
font-size: 16px;
color: var(--text-dark);
margin-bottom: 6px;
}
.empty-state p {
color: var(--text-light);
margin-bottom: 16px;
font-size: 13px;
}
/* === BUTTONS === */
.btn-primary {
width: 100%;
padding: 12px;
background: var(--accent-primary);
color: white;
border: none;
border-radius: var(--radius-sm);
font-weight: 700;
font-size: 13px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
gap: 6px;
transition: background-color var(--transition-fast), transform var(--transition-fast);
}
.btn-primary:hover {
background: var(--accent-primary-hover);
}
.btn-primary:active {
transform: scale(0.98);
}
.btn-primary.editing {
background: var(--p-lavender-dark);
}
.btn-primary.editing:hover {
background: var(--p-lavender);
}
.btn-secondary {
flex: 1;
padding: 10px 12px;
background: var(--input-bg);
border: none;
border-radius: var(--radius-sm);
color: var(--text-medium);
font-weight: 600;
font-size: 12px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
gap: 6px;
transition: background-color var(--transition-fast);
}
.btn-secondary:hover {
background: var(--input-hover-bg);
}
/* === INSTALL PROMPT === */
.install-prompt {
position: fixed;
bottom: 80px;
left: 12px;
right: 12px;
max-width: 576px;
margin: 0 auto;
background: var(--bg-card);
border-radius: var(--radius);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
padding: 12px 16px;
z-index: 90;
transform: translateY(150%);
opacity: 0;
transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
pointer-events: none;
}
.install-prompt.show {
transform: translateY(0);
opacity: 1;
pointer-events: auto;
}
.install-content {
display: flex;
align-items: center;
gap: 12px;
}
.install-icon {
font-size: 28px;
flex-shrink: 0;
}
.install-text {
flex: 1;
display: flex;
flex-direction: column;
gap: 2px;
}
.install-text strong {
font-size: 13px;
color: var(--text-dark);
}
.install-text span {
font-size: 11px;
color: var(--text-light);
}
.install-btn {
background: var(--accent-primary);
color: white;
border: none;
padding: 8px 16px;
border-radius: var(--radius-sm);
font-weight: 600;
font-size: 12px;
cursor: pointer;
transition: background-color var(--transition-fast), transform var(--transition-fast);
}
.install-btn:hover {
background: var(--accent-primary-hover);
}
.install-btn:active {
transform: scale(0.95);
}
.install-close {
background: none;
border: none;
font-size: 20px;
color: var(--text-light);
cursor: pointer;
padding: 4px 8px;
line-height: 1;
transition: color var(--transition-fast);
}
.install-close:hover {
color: var(--text-dark);
}

/* === TOAST === */
.toast {
    position: fixed;
    top: 20%;
    left: 50%;
    transform: translateX(-50%) translateY(-20px);
    background: var(--toast-bg);
    color: var(--toast-text);
    padding: 10px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 200;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    opacity: 0;
    pointer-events: none;
}
.toast.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
    pointer-events: auto;
}


.toast-undo {
background: var(--toast-undo-bg);
border: none;
color: var(--toast-text);
padding: 5px 10px;
border-radius: 12px;
font-size: 11px;
font-weight: 600;
cursor: pointer;
transition: background-color var(--transition-fast);
}
.toast-undo:hover {
background: var(--toast-undo-hover-bg);
}
/* === CONFETTI === */
#confettiCanvas {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
z-index: 999;
}
/* === FORM ELEMENTS === */
.form-group {
margin-bottom: 10px;
}
.form-group label {
display: block;
font-size: 11px;
font-weight: 600;
color: var(--text-medium);
margin-bottom: 4px;
}
.form-group input,
.form-group select {
width: 100%;
padding: 10px;
border: 2px solid transparent;
border-radius: var(--radius-sm);
font-size: 13px;
font-family: inherit;
background: var(--bg-card);
color: var(--text-dark);
transition: border-color var(--transition-fast);
}
.form-group input:focus,
.form-group select:focus {
outline: none;
border-color: var(--accent-primary);
}
.form-row {
display: flex;
gap: 10px;
}
.target-input-wrapper {
display: flex;
align-items: center;
gap: 8px;
}
.target-input-wrapper input {
flex: 1;
}
.target-unit {
font-size: 12px;
color: var(--text-light);
white-space: nowrap;
}
.emoji-picker {
display: flex;
gap: 8px;
align-items: flex-start;
}
.emoji-input {
width: 50px !important;
text-align: center;
font-size: 20px !important;
padding: 6px !important;
}
.emoji-suggestions {
display: flex;
flex-wrap: wrap;
gap: 4px;
flex: 1;
}
.emoji-suggestions span {
font-size: 18px;
cursor: pointer;
padding: 4px;
border-radius: 6px;
transition: background-color var(--transition-fast), transform var(--transition-fast);
}
.emoji-suggestions span:hover {
background: var(--bg-card);
transform: scale(1.15);
}
/* === COLOR SWATCHES === */
.color-swatches {
display: flex;
gap: 8px;
flex-wrap: wrap;
}
.color-swatch {
cursor: pointer;
padding: 4px;
border-radius: 50%;
border: 3px solid transparent;
transition: all var(--transition-fast);
display: flex;
align-items: center;
justify-content: center;
}
.color-swatch:hover {
transform: scale(1.1);
}
input[type="radio"]:checked + .color-swatch {
border-color: var(--text-dark);
transform: scale(1.1);
}
.swatch-circle {
width: 32px;
height: 32px;
border-radius: 50%;
display: block;
box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}
.swatch-mint { background: var(--p-mint-dark); }
.swatch-pink { background: var(--p-pink-dark); }
.swatch-lavender { background: var(--p-lavender-dark); }
.swatch-peach { background: var(--p-peach-dark); }
.swatch-blue { background: var(--p-blue-dark); }
.swatch-yellow { background: var(--p-yellow-dark); }
/* === TOGGLE SWITCH === */
.toggle-row {
display: flex;
justify-content: space-between;
align-items: center;
padding: 6px 0;
font-size: 13px;
}
.toggle-switch {
position: relative;
width: 44px;
height: 24px;
}
.toggle-switch input {
opacity: 0;
width: 0;
height: 0;
}
.toggle-slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: var(--border-light);
transition: var(--transition-fast);
border-radius: 24px;
}
.toggle-slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 3px;
bottom: 3px;
background-color: white;
transition: var(--transition-fast);
border-radius: 50%;
box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
.toggle-switch input:checked + .toggle-slider {
background-color: var(--accent-primary);
}
.toggle-switch input:checked + .toggle-slider:before {
transform: translateX(20px);
}
.notification-time {
margin-top: 10px;
padding: 10px;
background: var(--bg-card);
border-radius: var(--radius-sm);
display: flex;
align-items: center;
gap: 10px;
}
.notification-time label {
font-size: 12px;
color: var(--text-medium);
}
.notification-time input {
padding: 6px;
border: 1px solid var(--border-light);
border-radius: 6px;
font-family: inherit;
background: var(--bg-card);
color: var(--text-dark);
}


@media (max-width: 400px) {
    body {
        padding: 10px;
        padding-bottom: 16px;
    }

    .score-ring-container {
        width: 80px;
        height: 80px;
    }

    #dailyScore {
        font-size: 22px;
    }

    .habit-card {
        padding: 10px;
    }

    .date-display h1 {
        font-size: 18px;
    }

    .nav-btn {
        width: 34px;
        height: 34px;
    }

    .counter-btn {
        width: 36px;
        height: 36px;
    }

    .counter-value {
        font-size: 24px;
    }

    .timer-value {
        font-size: 28px;
    }

    .timer-btn {
        width: 40px;
        height: 40px;
    }

    .timer-btn.play,
    .timer-btn.pause {
        width: 48px;
        height: 48px;
    }

    .corner-btn {
        width: 28px;
        height: 28px;
    }

    .corner-btn svg {
        width: 14px;
        height: 14px;
    }
}


/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
*,
*::before,
*::after {
animation-duration: 0.01ms !important;
animation-iteration-count: 1 !important;
transition-duration: 0.01ms !important;
}
}


/* === FOOTER (New) === */
.app-footer {
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid var(--border-light);
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 12px;
}

.footer-link {
    color: var(--text-light);
    text-decoration: none;
    cursor: pointer;
    font-weight: 500;
    transition: color var(--transition-fast);
}

.footer-link:hover {
    color: var(--accent-primary);
}